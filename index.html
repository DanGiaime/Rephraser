<html>
    <head>
        <style>
            input{
                width:50%;
            }
        </style>
    </head>
    <body>
        <input type="text" id="text">
        <input type="submit" value="Submit" id="submit">

        <p id="para"></p>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script>
            {
                document.getElementById("submit").addEventListener("click",Click);
                var newString="";
                var words = [];
                
                var currentWord="";

                function Click(e){
                    var string=document.getElementById("text").value;
                    words=string.split(" ");

                    newString="";

                    for(var i=0;i<words.length;i++){

                        currentWord=words[i];
                        
                        debugger;
                        
                        var j=$.ajax({
                            dataType:"json",
                            url: 'http://words.bighugelabs.com/api/2/0083cd9564ee4a75c43de2d4689b0bc1/'+words[i]+'/json',
                            data: null,
                            success:jsonLoaded,
                            async: false
                        });

                    }

                }

                function jsonLoaded(e){

                    //debugger;
                    
                    let options=[];

                    if(e.noun!=undefined && e.noun.syn != undefined) {
                      for (let i = 0; i < e.noun.syn.length; i++) {
                        options[i]=(e.noun.syn[i]);
                      }
                    }

                    if(options.length!=0&&currentWord!="is")
                        newString += options[/*Math.ceil(Math.random()*options.length)*/0] + " ";
                    else
                        {
                            newString += currentWord+" ";
                        }
                    
                    document.getElementById("para").innerHTML = newString;

                    
                    
                }
            }
        </script>

    </body>
</html>
